<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>箭头函数的应用场景</title>
  <style>
    .app {
      width: 100px;
      height: 100px;
      background-color: lightblue;
    }
  </style>
</head>

<body>
  <div class="app"></div>
  <script>
    let app = document.querySelector('.app');
    app.addEventListener('click', function () {
      const arr = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
      const result = arr.filter(function (p) {
        if (p % 2 === 0) {
          return true;
        } else {
          return false;
        }
        //const result = arr.filter(p => p % 2 === 0);
      });
      console.log(result);
    });


    //箭头函数适合与this无关的回调，定时器，数组的方法回调
    //箭头函数不适合与this有关的回调，如事件、对象的方法
    app.addEventListener('click', function () {
      setTimeout(() => {
        this.style.background = 'pink';
      }, 1000);
    });
    //这里this声明的时指向了外层作用域的this值。this在哪儿定义的就指向谁，显然这来就是在app下定义的this

    app.addEventListener('click', function () {
      setTimeout(function () {
        this.style.background = 'green';
        console.log(this);
      }, 2000);
    });
    //这里的this指向的是定时器，而定时器是window的一个方法，因此this是指向的window的
  </script>
</body>

</html>